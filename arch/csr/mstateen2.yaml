# yaml-language-server: $schema=../../schemas/csr_schema.json

$schema: "csr_schema.json#"
kind: csr
name: mstateen2
long_name: Machine State Enable 2 Register
address: 0x30E
priv_mode: M
length: MXLEN
description: |
  For each mstateen CSR, bit 63 is defined to control access to the matching sstateen and hstateen
  CSRs. Bit 63 of mstateen2 controls access to sstateen2 and hstateen2.

  On reset, all writable mstateen bits are initialized by the hardware to zeros. If machine-level software
  changes these values, it is responsible for initializing the corresponding writable bits of the hstateen
  and sstateen CSRs to zeros too. Software at each privilege level should set its respective stateen CSRs
  to indicate the state it is prepared to allow less-privileged software to access. For OSes and hypervisors,
  this usually means the state that the OS or hypervisor is prepared to swap on a context switch, or to
  manage in some other way.
definedBy: Smstateen
fields:
  SE0:
    location: 63
    base: 64
    description: |
      The SE0 bit in mstateen2 controls access to the hstateen2, hstateen2h, and the sstateen2 CSRs.
    type: RW
    reset_value: UNDEFINED_LEGAL
